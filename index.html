<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VC Jump Game Parody</title>
  <style>
    body { margin: 0; overflow: hidden; background: #87CEEB; }
    canvas { display: block; }
    #scoreboard {
      position: absolute; top: 10px; left: 50%; transform: translateX(-50%);
      color: #000; font: 20px monospace; text-shadow: 1px 1px #fff;
    }
    #message {
      position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
      color: #000; font: 24px monospace; text-align: center; white-space: pre;
    }
  </style>
</head>
<body>
  <div id="scoreboard">Score: 0&nbsp;&nbsp;Best: 0</div>
  <div id="message">Press Space or Tap to Start</div>
  <canvas id="game"></canvas>
  <script>
    const canvas = document.getElementById('game');
    const ctx = canvas.getContext('2d');
    let W, H;
    function resize() {
      W = canvas.width = window.innerWidth;
      H = canvas.height = window.innerHeight;
      groundY = H/2;
    }
    window.addEventListener('resize', resize);
    resize();

    // assets
    const spriteImg = new Image(); spriteImg.src = 'vc-run.png'; // 3-frame sprite
    const groundImg = new Image(); groundImg.src = 'ground.png';
    const obstacleImg = new Image(); obstacleImg.src = 'believe.png';
    const cloudImgs = [new Image(), new Image()];
    cloudImgs[0].src = 'cloud1.png'; cloudImgs[1].src = 'cloud2.png';

    const jumpSnd = new Audio('jump.mp3');
    const landSnd = new Audio('land.mp3');
    const overSnd = new Audio('gameover.mp3');

    // game state
    let groundY;
    const player = { x: 100, y: 0, w: 50, h: 75, frame:0, frameTimer:0, vy:0, gravity:0.6, jump:-15 };
    let gameStarted=false, gameOver=false;
    let score=0, best=localStorage.getItem('vcBest')||0;
    const obstacles=[], quotes=[];
    let spawnTimer=0, quoteTimer=0;
    let speed=6, baseSpeed=6;
    const vcQuotes=[/* same 8 quotes */];

    // parallax layers
    const clouds = [];
    function initClouds() {
      clouds.length=0;
      for(let i=0;i<5;i++) clouds.push({img:cloudImgs[i%2], x:Math.random()*W, y:Math.random()*groundY/2, speed:1+Math.random()*1});
    }
    initClouds();

    function reset() {
      obstacles.length=0; quotes.length=0;
      player.y=groundY-player.h; player.vy=0;
      score=0; speed=baseSpeed; gameOver=false;
      gameStarted=false;
      document.getElementById('scoreboard').textContent=`Score:0  Best:${best}`;
      document.getElementById('message').textContent='Press Space or Tap to Start';
      initClouds(); draw();
    }

    function spawnObs() {
      const h=30+Math.random()*50;
      obstacles.push({x:W,y:groundY-h,w:h,h:h,passed:false});
    }
    function spawnQuote() {
      if(score%20!==0) return;
      const t=vcQuotes[Math.floor(Math.random()*vcQuotes.length)];
      quotes.push({x:W,y:groundY+20+Math.random()*30,text:t});
    }

    function draw() {
      ctx.clearRect(0,0,W,H);
      // day/night cycle
      const cycle = Math.floor(score/50)%2;
      document.body.style.background = cycle? '#1a1a2e':'#87CEEB';
      // clouds
      clouds.forEach(c=>{ c.x-=c.speed; if(c.x< -200) c.x=W; ctx.drawImage(c.img,c.x,c.y,200,100); });
      // ground
      const pat=ctx.createPattern(groundImg,'repeat-x');
      ctx.fillStyle=pat; ctx.fillRect(0,groundY,W,40);
      // obstacles
      obstacles.forEach((o,i)=>{
        o.x-=speed;
        ctx.drawImage(obstacleImg,o.x,o.y,o.w,o.h);
        if(!o.passed&&o.x+o.w<player.x){ o.passed=true; score++; document.getElementById('scoreboard').textContent=`Score:${score}  Best:${best}`; speed = baseSpeed+score*0.02; }
        if(collide(player,o)){ gameOver=true; overSnd.play(); document.getElementById('message').textContent=`RIP VC\nScore:${score}  Best:${best}\nPress Space or Tap`; localStorage.best=Math.max(best,score); }
        if(o.x+o.w<0) obstacles.splice(i,1);
      });
      // quotes
      quotes.forEach((q,i)=>{ q.x-=speed*0.5; ctx.fillStyle='#fff'; ctx.font='16px monospace'; ctx.fillText(q.text,q.x,q.y); if(q.x< -ctx.measureText(q.text).width) quotes.splice(i,1); });
      // player run animation
      if(gameStarted){ player.frameTimer++; if(player.frameTimer>5){ player.frame=(player.frame+1)%3; player.frameTimer=0; }}
      // player
      if(playerImg.complete) ctx.drawImage(playerImg,player.frame*50,0,50,75,player.x,player.y,50,75);
      if(!gameOver) if(gameStarted) requestAnimationFrame(draw);
    }

    function collide(p,o){ return p.x<p.x+o.w && p.x+ p.w>o.x && p.y<o.y+o.h && p.y+p.h>o.y; }

    function jump(){ if(gameStarted && !gameOver && player.vy===0){ player.vy=player.jump; jumpSnd.play(); } }

    window.addEventListener('keydown',e=>{ if(e.code==='Space'){ if(!gameStarted){ gameStarted=true; document.getElementById('message').textContent=''; draw(); } else if(gameOver) reset(); else jump(); }});
    canvas.addEventListener('touchstart',e=>{ if(!gameStarted){ gameStarted=true; document.getElementById('message').textContent=''; draw(); } else if(gameOver) reset(); else jump(); });

    // init
    reset();
  </script>
</body>
</html>
